# ğŸ¨ Phase 2 ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºè¨ˆç”»
**ãƒ–ãƒ©ãƒ³ãƒ**: `feature/phase-2-ui-streaming`

## ğŸ“‹ Phase 2 æ¦‚è¦

**ç›®æ¨™**: Next.js 14 ãƒãƒ£ãƒƒãƒˆ UI + SSE ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚° + çµ±åˆãƒ†ã‚¹ãƒˆ

**å®Œäº†æ¡ä»¶**:
- âœ… ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:3000 ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
- âœ… ãƒãƒ£ãƒƒãƒˆè³ªå•â†’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å¿œç­”è¡¨ç¤º
- âœ… E2EåŸºæœ¬ãƒ†ã‚¹ãƒˆç·‘
- âœ… ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆæˆåŠŸ

---

## ğŸ¯ è©³ç´°ã‚¿ã‚¹ã‚¯åˆ†è§£

### Phase 2-1A: ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
#### å„ªå…ˆåº¦: ğŸ”´ æœ€é«˜

**Task 2-1A-1: Node.jsç’°å¢ƒç¢ºèª**
- [x] Node.js 20+ ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª
- [x] npm/pnpm ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ç¢ºèª
- **å®Œäº†æ¡ä»¶**: `node --version` ã§20ä»¥ä¸Šã€`npm --version` æˆåŠŸ
- **æ‰€è¦æ™‚é–“**: 5åˆ†
- **ã‚³ãƒŸãƒƒãƒˆ**: ä¸è¦
- **âœ… å®Ÿè¡Œçµæœ**: Node.js v20.19.1, npm v10.8.2 - è¦ä»¶æº€ãŸã™
- **âœ… å®Œäº†æ—¥æ™‚**: 2024-06-09

**Task 2-1A-2: Next.js 14ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–**
- [x] `frontend/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
- [x] `npx create-next-app@latest frontend --typescript --tailwind --eslint --app`
- [x] åˆæœŸè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèªï¼ˆnext.config.js, tsconfig.json, tailwind.config.jsï¼‰
- **å®Œäº†æ¡ä»¶**: `cd frontend && npm run dev` ã§localhost:3000è¡¨ç¤º
- **æ‰€è¦æ™‚é–“**: 10åˆ†
- **ğŸ”„ ã‚³ãƒŸãƒƒãƒˆ**: `feat(frontend): initialize Next.js 14 project with TypeScript and Tailwind`
- **âœ… å®Ÿè¡Œçµæœ**: Next.js 15.3.3 + React 19 + TypeScript + Tailwind CSS + App Router åˆæœŸåŒ–å®Œäº†
- **âœ… å®Œäº†æ—¥æ™‚**: 2024-06-09

**Task 2-1A-3: shadcn/ui ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—**
- [x] `npx shadcn-ui@latest init` å®Ÿè¡Œ
- [x] components.json è¨­å®šç¢ºèª
- [x] åŸºæœ¬ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¿½åŠ : `npx shadcn-ui@latest add button card input textarea`
- **å®Œäº†æ¡ä»¶**: `src/components/ui/` ã« button.tsx, card.tsx, input.tsx, textarea.tsx å­˜åœ¨
- **æ‰€è¦æ™‚é–“**: 15åˆ†
- **ğŸ”„ ã‚³ãƒŸãƒƒãƒˆ**: `feat(frontend): setup shadcn/ui with basic components`
- **âœ… å®Ÿè¡Œçµæœ**: shadcn v2.6.1 + New York style + 4åŸºæœ¬ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¿½åŠ å®Œäº†
- **âœ… å®Œäº†æ—¥æ™‚**: 2024-06-09

### Phase 2-1B: GraphQLçµ±åˆåŸºç›¤
#### å„ªå…ˆåº¦: ğŸ”´ æœ€é«˜

**Task 2-1B-1: GraphQL ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**
- [ ] Apollo Client: `npm install @apollo/client graphql`
- [ ] GraphQL Code Generator: `npm install -D @graphql-codegen/cli @graphql-codegen/typescript @graphql-codegen/typescript-operations @graphql-codegen/typescript-react-apollo`
- **å®Œäº†æ¡ä»¶**: package.json ã«ä¸Šè¨˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è¿½åŠ 
- **æ‰€è¦æ™‚é–“**: 5åˆ†
- **ğŸ”„ ã‚³ãƒŸãƒƒãƒˆ**: `feat(frontend): add GraphQL client dependencies`

**Task 2-1B-2: GraphQL Code Generatorè¨­å®š**
- [ ] `codegen.yml` ä½œæˆ
- [ ] ã‚¹ã‚­ãƒ¼ãƒURLè¨­å®š: `http://localhost:8000/graphql`
- [ ] ç”Ÿæˆè¨­å®š: TypeScript hooksæœ‰åŠ¹
- [ ] npm scriptsè¿½åŠ : `"codegen": "graphql-codegen"`
- **å®Œäº†æ¡ä»¶**: `npm run codegen` ã§ã‚¨ãƒ©ãƒ¼ãªã—ã€`src/generated/graphql.ts` ç”Ÿæˆ
- **æ‰€è¦æ™‚é–“**: 10åˆ†
- **ğŸ”„ ã‚³ãƒŸãƒƒãƒˆ**: `feat(frontend): configure GraphQL Code Generator`

**Task 2-1B-3: Apollo Clientè¨­å®š**
- [ ] `src/lib/graphql-client.ts` ä½œæˆ
- [ ] HttpLinkè¨­å®šï¼ˆç’°å¢ƒå¤‰æ•°NEXT_PUBLIC_GRAPHQL_URLå¯¾å¿œï¼‰
- [ ] InMemoryCacheè¨­å®š
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒªã‚·ãƒ¼è¨­å®š
- **å®Œäº†æ¡ä»¶**: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆã€å‹ã‚¨ãƒ©ãƒ¼ãªã—
- **æ‰€è¦æ™‚é–“**: 15åˆ†
- **ğŸ”„ ã‚³ãƒŸãƒƒãƒˆ**: `feat(frontend): setup Apollo Client configuration`

### Phase 2-2A: åŸºæœ¬ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ§‹ç¯‰
#### å„ªå…ˆåº¦: ğŸ”´ æœ€é«˜

**Task 2-2A-1: ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆä½œæˆ**
- [ ] `src/app/layout.tsx` ç·¨é›†
- [ ] Apollo Providerè¿½åŠ 
- [ ] Tailwind CSSåŸºæœ¬è¨­å®š
- [ ] ãƒ•ã‚©ãƒ³ãƒˆè¨­å®šï¼ˆInterï¼‰
- **å®Œäº†æ¡ä»¶**: ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆé©ç”¨ã€Apollo Providerå‹•ä½œ
- **æ‰€è¦æ™‚é–“**: 10åˆ†
- **ğŸ”„ ã‚³ãƒŸãƒƒãƒˆ**: `feat(frontend): setup root layout with Apollo Provider`

**Task 2-2A-2: Header ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ**
- [ ] `src/components/layout/Header.tsx` ä½œæˆ
- [ ] ãƒ­ã‚´ãƒ»ã‚¿ã‚¤ãƒˆãƒ«è¡¨ç¤º
- [ ] Tailwind ã§ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°
- [ ] ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ
- **å®Œäº†æ¡ä»¶**: ãƒ˜ãƒƒãƒ€ãƒ¼è¡¨ç¤ºã€ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œç¢ºèª
- **æ‰€è¦æ™‚é–“**: 20åˆ†
- **ğŸ”„ ã‚³ãƒŸãƒƒãƒˆ**: `feat(frontend): create Header component`

**Task 2-2A-3: ãƒãƒ£ãƒƒãƒˆãƒšãƒ¼ã‚¸ä½œæˆ**
- [ ] `src/app/chat/page.tsx` ä½œæˆ
- [ ] åŸºæœ¬ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ + ãƒãƒ£ãƒƒãƒˆç”»é¢ï¼‰
- [ ] ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã‚³ãƒ³ãƒ†ãƒ³ãƒ„
- **å®Œäº†æ¡ä»¶**: /chat ã‚¢ã‚¯ã‚»ã‚¹ã§ãƒšãƒ¼ã‚¸è¡¨ç¤º
- **æ‰€è¦æ™‚é–“**: 15åˆ†
- **ğŸ”„ ã‚³ãƒŸãƒƒãƒˆ**: `feat(frontend): create basic chat page`

### Phase 2-2B: ãƒãƒ£ãƒƒãƒˆUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
#### å„ªå…ˆåº¦: ğŸ”´ æœ€é«˜

**Task 2-2B-1: MessageBubble ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**
- [ ] `src/components/chat/MessageBubble.tsx` ä½œæˆ
- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ»AI ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è¡¨ç¤ºåˆ†å²
- [ ] Tailwind ã§ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ï¼ˆé’/ã‚°ãƒ¬ãƒ¼èƒŒæ™¯ï¼‰
- [ ] citations ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å¯¾å¿œ
- [ ] isStreaming ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å¯¾å¿œ
- **å®Œäº†æ¡ä»¶**: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºã€ã‚¹ã‚¿ã‚¤ãƒ«ç¢ºèªã€å‹å®‰å…¨æ€§
- **æ‰€è¦æ™‚é–“**: 30åˆ†
- **ğŸ”„ ã‚³ãƒŸãƒƒãƒˆ**: `feat(frontend): create MessageBubble component`

**Task 2-2B-2: InputForm ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**
- [ ] `src/components/chat/InputForm.tsx` ä½œæˆ
- [ ] textarea + é€ä¿¡ãƒœã‚¿ãƒ³
- [ ] ãƒ•ã‚©ãƒ¼ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- [ ] isLoading çŠ¶æ…‹å¯¾å¿œ
- [ ] Enter ã‚­ãƒ¼é€ä¿¡ï¼ˆShift+Enterã§æ”¹è¡Œï¼‰
- **å®Œäº†æ¡ä»¶**: ãƒ•ã‚©ãƒ¼ãƒ å‹•ä½œã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã€UXç¢ºèª
- **æ‰€è¦æ™‚é–“**: 25åˆ†
- **ğŸ”„ ã‚³ãƒŸãƒƒãƒˆ**: `feat(frontend): create InputForm component`

**Task 2-2B-3: LoadingSpinner ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**
- [ ] `src/components/chat/LoadingSpinner.tsx` ä½œæˆ
- [ ] CSS ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š
- [ ] test-id å±æ€§è¿½åŠ 
- [ ] ã‚µã‚¤ã‚ºãƒ»è‰²è¨­å®šå¯èƒ½
- **å®Œäº†æ¡ä»¶**: ã‚¹ãƒ”ãƒŠãƒ¼ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã€test-idå­˜åœ¨
- **æ‰€è¦æ™‚é–“**: 15åˆ†
- **ğŸ”„ ã‚³ãƒŸãƒƒãƒˆ**: `feat(frontend): create LoadingSpinner component`

**Task 2-2B-4: ChatWindow ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**
- [ ] `src/components/chat/ChatWindow.tsx` ä½œæˆ
- [ ] ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é…åˆ—çŠ¶æ…‹ç®¡ç†
- [ ] ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«åˆ¶å¾¡ï¼ˆè‡ªå‹•ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼‰
- [ ] MessageBubble + InputFormçµ±åˆ
- [ ] åŸºæœ¬çš„ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ãƒ•ãƒ­ãƒ¼
- **å®Œäº†æ¡ä»¶**: ãƒãƒ£ãƒƒãƒˆç”»é¢è¡¨ç¤ºã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆçµ±åˆã€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å‹•ä½œ
- **æ‰€è¦æ™‚é–“**: 35åˆ†
- **ğŸ”„ ã‚³ãƒŸãƒƒãƒˆ**: `feat(frontend): create ChatWindow main component`

### Phase 2-3A: GraphQLçµ±åˆå®Ÿè£…
#### å„ªå…ˆåº¦: ğŸŸ¡ é«˜

**Task 2-3A-1: GraphQLå‹å®šç¾©ç”Ÿæˆ**
- [ ] ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰èµ·å‹•ç¢ºèª
- [ ] `npm run codegen` å®Ÿè¡Œ
- [ ] ç”Ÿæˆã•ã‚ŒãŸå‹ç¢ºèªï¼ˆAskInput, AskPayloadç­‰ï¼‰
- [ ] å‹ã‚¤ãƒ³ãƒãƒ¼ãƒˆå‹•ä½œç¢ºèª
- **å®Œäº†æ¡ä»¶**: å‹ç”ŸæˆæˆåŠŸã€TypeScript ã‚¨ãƒ©ãƒ¼ãªã—
- **æ‰€è¦æ™‚é–“**: 10åˆ†
- **ğŸ”„ ã‚³ãƒŸãƒƒãƒˆ**: `feat(frontend): generate GraphQL types from backend schema`

**Task 2-3A-2: ask mutation ãƒ•ãƒƒã‚¯ä½œæˆ**
- [ ] ç”Ÿæˆã•ã‚ŒãŸuseMutationãƒ•ãƒƒã‚¯ä½¿ç”¨
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°è¿½åŠ 
- [ ] ãƒ¬ã‚¹ãƒãƒ³ã‚¹å‹å®‰å…¨æ€§ç¢ºèª
- **å®Œäº†æ¡ä»¶**: ask mutationå‘¼ã³å‡ºã—æˆåŠŸã€å‹å®‰å…¨
- **æ‰€è¦æ™‚é–“**: 15åˆ†
- **ğŸ”„ ã‚³ãƒŸãƒƒãƒˆ**: `feat(frontend): implement ask mutation with type safety`

**Task 2-3A-3: ChatWindow GraphQLçµ±åˆ**
- [ ] ask mutation ã‚’ChatWindowã«çµ±åˆ
- [ ] è³ªå•é€ä¿¡â†’ãƒ¬ã‚¹ãƒãƒ³ã‚¹å—ä¿¡ãƒ•ãƒ­ãƒ¼
- [ ] ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹è¡¨ç¤º
- [ ] ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ç®¡ç†
- **å®Œäº†æ¡ä»¶**: å®Ÿéš›ã®è³ªå•é€ä¿¡ãƒ»å¿œç­”è¡¨ç¤ºå‹•ä½œ
- **æ‰€è¦æ™‚é–“**: 25åˆ†
- **ğŸ”„ ã‚³ãƒŸãƒƒãƒˆ**: `feat(frontend): integrate ask mutation into ChatWindow`

### Phase 2-3B: SSEã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å®Ÿè£…
#### å„ªå…ˆåº¦: ğŸŸ¡ é«˜

**Task 2-3B-1: useChatStream ãƒ•ãƒƒã‚¯ä½œæˆ**
- [ ] `src/hooks/useChatStream.ts` ä½œæˆ
- [ ] EventSource APIçµ±åˆ
- [ ] SSEæ¥ç¶šãƒ»åˆ‡æ–­ç®¡ç†
- [ ] ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¿ã‚¤ãƒ—åˆ†å²ï¼ˆconnection_init, chunk, complete, errorï¼‰
- **å®Œäº†æ¡ä»¶**: SSEæ¥ç¶šãƒ•ãƒƒã‚¯ã€å‹å®‰å…¨ã€ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†
- **æ‰€è¦æ™‚é–“**: 40åˆ†
- **ğŸ”„ ã‚³ãƒŸãƒƒãƒˆ**: `feat(frontend): create useChatStream hook for SSE`

**Task 2-3B-2: ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°è¡¨ç¤ºæ©Ÿèƒ½**
- [ ] ãƒãƒ£ãƒ³ã‚¯å—ä¿¡â†’æ®µéšçš„ãƒ†ã‚­ã‚¹ãƒˆè¡¨ç¤º
- [ ] ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ›´æ–°ãƒ­ã‚¸ãƒƒã‚¯
- [ ] ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ä¸­çŠ¶æ…‹è¡¨ç¤º
- [ ] å®Œäº†æ™‚ã®æœ€çµ‚åŒ–å‡¦ç†
- **å®Œäº†æ¡ä»¶**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ†ã‚­ã‚¹ãƒˆè¡¨ç¤ºã€æ®µéšçš„æ›´æ–°
- **æ‰€è¦æ™‚é–“**: 30åˆ†
- **ğŸ”„ ã‚³ãƒŸãƒƒãƒˆ**: `feat(frontend): implement streaming text display`

**Task 2-3B-3: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ»å†æ¥ç¶š**
- [ ] SSEæ¥ç¶šã‚¨ãƒ©ãƒ¼å‡¦ç†
- [ ] è‡ªå‹•å†æ¥ç¶šãƒ­ã‚¸ãƒƒã‚¯
- [ ] ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå‡¦ç†
- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
- **å®Œäº†æ¡ä»¶**: ã‚¨ãƒ©ãƒ¼å‡¦ç†å‹•ä½œã€å†æ¥ç¶šæ©Ÿèƒ½
- **æ‰€è¦æ™‚é–“**: 25åˆ†
- **ğŸ”„ ã‚³ãƒŸãƒƒãƒˆ**: `feat(frontend): add SSE error handling and reconnection`

### Phase 2-4A: ãƒ†ã‚¹ãƒˆå®Ÿè£…
#### å„ªå…ˆåº¦: ğŸŸ¢ ä¸­

**Task 2-4A-1: Vitest ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—**
- [ ] `npm install -D vitest @testing-library/react @testing-library/jest-dom jsdom`
- [ ] `vitest.config.ts` ä½œæˆ
- [ ] ãƒ†ã‚¹ãƒˆç”¨setupãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
- [ ] package.json scriptsè¿½åŠ 
- **å®Œäº†æ¡ä»¶**: `npm test` ã§Vitestå®Ÿè¡ŒæˆåŠŸ
- **æ‰€è¦æ™‚é–“**: 15åˆ†
- **ğŸ”„ ã‚³ãƒŸãƒƒãƒˆ**: `test(frontend): setup Vitest with React Testing Library`

**Task 2-4A-2: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ**
- [ ] `tests/frontend/components/MessageBubble.test.tsx` ä½œæˆ
- [ ] `tests/frontend/components/InputForm.test.tsx` ä½œæˆ
- [ ] `tests/frontend/components/LoadingSpinner.test.tsx` ä½œæˆ
- [ ] å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®åŸºæœ¬å‹•ä½œãƒ†ã‚¹ãƒˆ
- **å®Œäº†æ¡ä»¶**: å…¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆæˆåŠŸã€ã‚«ãƒãƒ¬ãƒƒã‚¸>80%
- **æ‰€è¦æ™‚é–“**: 45åˆ†
- **ğŸ”„ ã‚³ãƒŸãƒƒãƒˆ**: `test(frontend): add unit tests for chat components`

**Task 2-4A-3: ãƒ•ãƒƒã‚¯ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ**
- [ ] `tests/frontend/hooks/useChatStream.test.ts` ä½œæˆ
- [ ] EventSource ãƒ¢ãƒƒã‚¯è¨­å®š
- [ ] ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ãƒ­ã‚¸ãƒƒã‚¯ãƒ†ã‚¹ãƒˆ
- [ ] ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ãƒ†ã‚¹ãƒˆ
- **å®Œäº†æ¡ä»¶**: ãƒ•ãƒƒã‚¯ãƒ†ã‚¹ãƒˆæˆåŠŸã€ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹å¯¾å¿œ
- **æ‰€è¦æ™‚é–“**: 35åˆ†
- **ğŸ”„ ã‚³ãƒŸãƒƒãƒˆ**: `test(frontend): add unit tests for useChatStream hook`

### Phase 2-4B: E2Eãƒ†ã‚¹ãƒˆå®Ÿè£…
#### å„ªå…ˆåº¦: ğŸŸ¢ ä¸­

**Task 2-4B-1: Playwright ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—**
- [ ] `npm install -D @playwright/test`
- [ ] `playwright.config.ts` ä½œæˆ
- [ ] ãƒ–ãƒ©ã‚¦ã‚¶è¨­å®šï¼ˆChromium, Firefox, Safariï¼‰
- [ ] CIç”¨è¨­å®š
- **å®Œäº†æ¡ä»¶**: `npx playwright test --ui` ã§ãƒ†ã‚¹ãƒˆç”»é¢è¡¨ç¤º
- **æ‰€è¦æ™‚é–“**: 20åˆ†
- **ğŸ”„ ã‚³ãƒŸãƒƒãƒˆ**: `test(frontend): setup Playwright for E2E testing`

**Task 2-4B-2: åŸºæœ¬ãƒãƒ£ãƒƒãƒˆãƒ•ãƒ­ãƒ¼E2E**
- [ ] `tests/e2e/basic-chat.spec.ts` ä½œæˆ
- [ ] ãƒãƒ£ãƒƒãƒˆç”»é¢ã‚¢ã‚¯ã‚»ã‚¹ãƒ†ã‚¹ãƒˆ
- [ ] ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ãƒ»å—ä¿¡ãƒ†ã‚¹ãƒˆ
- [ ] ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°è¡¨ç¤ºãƒ†ã‚¹ãƒˆ
- [ ] UIè¦ç´ å­˜åœ¨ç¢ºèªãƒ†ã‚¹ãƒˆ
- **å®Œäº†æ¡ä»¶**: E2Eãƒ†ã‚¹ãƒˆæˆåŠŸã€å®Ÿéš›ã®ãƒ•ãƒ­ãƒ¼å‹•ä½œç¢ºèª
- **æ‰€è¦æ™‚é–“**: 40åˆ†
- **ğŸ”„ ã‚³ãƒŸãƒƒãƒˆ**: `test(frontend): add E2E tests for basic chat flow`

**Task 2-4B-3: ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹E2E**
- [ ] ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- [ ] SSEæ¥ç¶šå¤±æ•—ã‚±ãƒ¼ã‚¹
- [ ] å†æ¥ç¶šæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
- [ ] ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰åœæ­¢æ™‚ã®å‹•ä½œ
- **å®Œäº†æ¡ä»¶**: ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹E2Eãƒ†ã‚¹ãƒˆæˆåŠŸ
- **æ‰€è¦æ™‚é–“**: 30åˆ†
- **ğŸ”„ ã‚³ãƒŸãƒƒãƒˆ**: `test(frontend): add E2E tests for error scenarios`

---

## ğŸ—ï¸ ä¿®æ­£ã•ã‚ŒãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
llm-app-trial-with-ai-driven/
â”œâ”€â”€ frontend/                    # Next.js ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/                 # Next.js 14 App Router
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx       # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx         # ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”‚   â””â”€â”€ chat/
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx     # ãƒãƒ£ãƒƒãƒˆç”»é¢
â”‚   â”‚   â”œâ”€â”€ components/          # UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ chat/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ChatWindow.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MessageBubble.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ InputForm.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ LoadingSpinner.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/              # shadcn/ui ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”‚   â””â”€â”€ layout/
â”‚   â”‚   â”‚       â””â”€â”€ Header.tsx
â”‚   â”‚   â”œâ”€â”€ hooks/               # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â”‚   â”‚   â”‚   â””â”€â”€ useChatStream.ts
â”‚   â”‚   â”œâ”€â”€ lib/                 # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ»è¨­å®š
â”‚   â”‚   â”‚   â”œâ”€â”€ graphql-client.ts
â”‚   â”‚   â”‚   â””â”€â”€ utils.ts
â”‚   â”‚   â””â”€â”€ generated/           # GraphQL Code Generatorå‡ºåŠ›
â”‚   â”‚       â””â”€â”€ graphql.ts
â”‚   â”œâ”€â”€ public/                  # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ next.config.js
â”‚   â”œâ”€â”€ tailwind.config.js
â”‚   â”œâ”€â”€ vitest.config.ts
â”‚   â”œâ”€â”€ playwright.config.ts
â”‚   â””â”€â”€ codegen.yml
â”œâ”€â”€ tests/                       # ğŸ”§ çµ±åˆãƒ†ã‚¹ãƒˆãƒ•ã‚©ãƒ«ãƒ€ï¼ˆãƒ«ãƒ¼ãƒˆç›´ä¸‹ï¼‰
â”‚   â”œâ”€â”€ frontend/                # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆ
â”‚   â”‚   â”œâ”€â”€ components/          # ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ MessageBubble.test.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ InputForm.test.tsx
â”‚   â”‚   â”‚   â””â”€â”€ LoadingSpinner.test.tsx
â”‚   â”‚   â”œâ”€â”€ hooks/               # ãƒ•ãƒƒã‚¯ãƒ†ã‚¹ãƒˆ
â”‚   â”‚   â”‚   â””â”€â”€ useChatStream.test.ts
â”‚   â”‚   â””â”€â”€ setup.ts             # ãƒ†ã‚¹ãƒˆè¨­å®š
â”‚   â”œâ”€â”€ e2e/                     # E2E ãƒ†ã‚¹ãƒˆ
â”‚   â”‚   â”œâ”€â”€ basic-chat.spec.ts
â”‚   â”‚   â””â”€â”€ error-scenarios.spec.ts
â”‚   â”œâ”€â”€ conftest.py              # æ—¢å­˜ï¼šãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆè¨­å®š
â”‚   â”œâ”€â”€ test_api.py              # æ—¢å­˜ï¼šãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIãƒ†ã‚¹ãƒˆ
â”‚   â””â”€â”€ test_providers.py        # æ—¢å­˜ï¼šãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ backend/                     # æ—¢å­˜ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
â””â”€â”€ task_log/                    # ã‚¿ã‚¹ã‚¯ç®¡ç†
```

---

## ğŸ“Š ã‚³ãƒŸãƒƒãƒˆæˆ¦ç•¥

### ğŸ”„ å®‰å…¨ãªã‚³ãƒŸãƒƒãƒˆã‚¿ã‚¤ãƒŸãƒ³ã‚°

**é »ç¹ã‚³ãƒŸãƒƒãƒˆåŸå‰‡**: å„Taskå®Œäº†æ™‚ã«å¿…ãšã‚³ãƒŸãƒƒãƒˆï¼ˆãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤äº‹æ•…é˜²æ­¢ï¼‰

**ã‚³ãƒŸãƒƒãƒˆå½¢å¼**:
```
<type>(scope): <description>

feat(frontend): æ–°æ©Ÿèƒ½è¿½åŠ 
fix(frontend): ãƒã‚°ä¿®æ­£
test(frontend): ãƒ†ã‚¹ãƒˆè¿½åŠ 
refactor(frontend): ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
docs(frontend): ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°
```

**å¿…é ˆã‚³ãƒŸãƒƒãƒˆãƒã‚¤ãƒ³ãƒˆ**:
1. âœ… **Task 2-1A-2å®Œäº†æ™‚**: Next.jsåˆæœŸåŒ–å¾Œ
2. âœ… **Task 2-1A-3å®Œäº†æ™‚**: shadcn/uiè¨­å®šå¾Œ
3. âœ… **Task 2-1B-3å®Œäº†æ™‚**: GraphQLè¨­å®šå®Œäº†å¾Œ
4. âœ… **Task 2-2B-4å®Œäº†æ™‚**: ChatWindowå®Œæˆå¾Œ
5. âœ… **Task 2-3B-3å®Œäº†æ™‚**: ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°æ©Ÿèƒ½å®Œæˆå¾Œ
6. âœ… **Task 2-4A-2å®Œäº†æ™‚**: ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆå®Œæˆå¾Œ
7. âœ… **Task 2-4B-2å®Œäº†æ™‚**: E2Eãƒ†ã‚¹ãƒˆå®Œæˆå¾Œ

**ğŸš¨ ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤é˜²æ­¢ç­–**:
- å„ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³é–‹å§‹å‰ã« `git status` ç¢ºèª
- æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆå¾Œã€å³åº§ã«ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°
- Taskå®Œäº†æ¯ã®ã‚³ãƒŸãƒƒãƒˆã§ä½œæ¥­ä¿è­·
- `git stash` æ´»ç”¨ã§WIPä¿å­˜

---

## ğŸ“Š å“è³ªç›®æ¨™ãƒ»å®Œäº†æ¡ä»¶

### Phase 2-1 å®Œäº†æ¡ä»¶
- [ ] Next.jsé–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•æˆåŠŸ
- [ ] shadcn/ui ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½¿ç”¨å¯èƒ½
- [ ] GraphQLå‹ç”ŸæˆæˆåŠŸ
- [ ] Apollo Clientæ¥ç¶šç¢ºèª

### Phase 2-2 å®Œäº†æ¡ä»¶
- [ ] /chat ãƒšãƒ¼ã‚¸è¡¨ç¤ºæˆåŠŸ
- [ ] å…¨UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¡¨ç¤ºç¢ºèª
- [ ] ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œç¢ºèª
- [ ] TypeScript ã‚¨ãƒ©ãƒ¼ã‚¼ãƒ­

### Phase 2-3 å®Œäº†æ¡ä»¶
- [ ] GraphQL ask mutationæˆåŠŸ
- [ ] SSEã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å‹•ä½œç¢ºèª
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å‹•ä½œç¢ºèª
- [ ] ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ»ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰çµ±åˆæˆåŠŸ

### Phase 2-4 å®Œäº†æ¡ä»¶
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ >70%
- [ ] E2Eãƒ†ã‚¹ãƒˆåŸºæœ¬ãƒ•ãƒ­ãƒ¼æˆåŠŸ
- [ ] CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ç·‘

### æœ€çµ‚å®Œäº†æ¡ä»¶
- [ ] http://localhost:3000/chat ã§è³ªå•é€ä¿¡ãƒ»AIå¿œç­”è¡¨ç¤º
- [ ] ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å¿œç­”ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º
- [ ] å…¨ãƒ†ã‚¹ãƒˆæˆåŠŸï¼ˆãƒ¦ãƒ‹ãƒƒãƒˆãƒ»E2Eï¼‰
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›®æ¨™é”æˆï¼ˆåˆå›ãƒ­ãƒ¼ãƒ‰<2ç§’ï¼‰

---

## ğŸš€ æ›´æ–°ã•ã‚ŒãŸãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³

### Week 1: åŸºç›¤æ§‹ç¯‰ + åŸºæœ¬UI
- [x] **ãƒ–ãƒ©ãƒ³ãƒä½œæˆ**: `feature/phase-2-ui-streaming`
- [ ] **Task 2-1A**: Next.js + shadcn/ui ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆ3ã‚¿ã‚¹ã‚¯ï¼‰
- [ ] **Task 2-1B**: GraphQLçµ±åˆåŸºç›¤ï¼ˆ3ã‚¿ã‚¹ã‚¯ï¼‰
- [ ] **Task 2-2A**: åŸºæœ¬ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆ3ã‚¿ã‚¹ã‚¯ï¼‰
- **ğŸ¯ Week 1å®Œäº†**: /chat ãƒšãƒ¼ã‚¸è¡¨ç¤º + GraphQLæ¥ç¶š

### Week 2: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…
- [ ] **Task 2-2B**: ãƒãƒ£ãƒƒãƒˆUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ4ã‚¿ã‚¹ã‚¯ï¼‰
- [ ] **Task 2-3A**: GraphQLçµ±åˆå®Ÿè£…ï¼ˆ3ã‚¿ã‚¹ã‚¯ï¼‰
- **ğŸ¯ Week 2å®Œäº†**: é™çš„ãƒãƒ£ãƒƒãƒˆUI + GraphQL mutationå‹•ä½œ

### Week 3: ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°æ©Ÿèƒ½
- [ ] **Task 2-3B**: SSEã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å®Ÿè£…ï¼ˆ3ã‚¿ã‚¹ã‚¯ï¼‰
- [ ] çµ±åˆãƒ†ã‚¹ãƒˆãƒ»ãƒã‚°ä¿®æ­£
- **ğŸ¯ Week 3å®Œäº†**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½å®Œæˆ

### Week 4: ãƒ†ã‚¹ãƒˆãƒ»ä»•ä¸Šã’
- [ ] **Task 2-4A**: ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆï¼ˆ3ã‚¿ã‚¹ã‚¯ï¼‰
- [ ] **Task 2-4B**: E2Eãƒ†ã‚¹ãƒˆï¼ˆ3ã‚¿ã‚¹ã‚¯ï¼‰
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹èª¿æ•´ãƒ»æœ€çµ‚çµ±åˆãƒ†ã‚¹ãƒˆ
- **ğŸ¯ Week 4å®Œäº†**: Phase 2å®Œå…¨å®Œæˆ

---

**ğŸ¯ Phase 2å®Œäº†ã«ã‚ˆã‚Šã€QRAIã®åŸºæœ¬ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½ãŒå®Ÿéš›ã«ãƒ–ãƒ©ã‚¦ã‚¶ã§å‹•ä½œå¯èƒ½ã«ãªã‚Šã¾ã™ï¼**

*ä½œæˆæ—¥: 2024-06-09*
*æœ€çµ‚æ›´æ–°: 2024-06-09*
