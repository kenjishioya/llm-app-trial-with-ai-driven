# é–‹ç™ºè€…ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰ â€“ QRAI

> **ç›®çš„** â€” æ–°è¦é–‹ç™ºè€…ãŒ QRAI ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å‚åŠ ã—ã¦ã‹ã‚‰åˆå›ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ãƒˆã¾ã§ã‚’ **15åˆ†ä»¥å†…** ã§å®Œäº†ã§ãã‚‹ã‚ˆã†ã€ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—ã®ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æ‰‹é †ã‚’æä¾›ã™ã‚‹ã€‚æŠ€è¡“çµŒé¨“ãƒ¬ãƒ™ãƒ«ã«å¿œã˜ãŸè¤‡æ•°ã®ãƒ‘ã‚¹ã‚’ç”¨æ„ã—ã€ãƒãƒ¼ãƒ å…¨ä½“ã®é–‹ç™ºåŠ¹ç‡å‘ä¸Šã‚’å®Ÿç¾ã™ã‚‹ã€‚

---

## ğŸ¯ ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°å®Œäº†ç›®æ¨™

### âœ… 5åˆ†å¾Œã®çŠ¶æ…‹
- [ ] ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³å®Œäº†
- [ ] ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ `docker compose up` æˆåŠŸ
- [ ] ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:3000 ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€ãƒãƒ£ãƒƒãƒˆç”»é¢è¡¨ç¤º

### âœ… 10åˆ†å¾Œã®çŠ¶æ…‹
- [ ] ã‚µãƒ³ãƒ—ãƒ«è³ªå•ã€Œç¤¾å†…ç ”ä¿®åˆ¶åº¦ã«ã¤ã„ã¦ã€ã§RAGå¿œç­”å–å¾—
- [ ] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã¨ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦ç†è§£
- [ ] è‡ªåˆ†ã®é–‹ç™ºç’°å¢ƒã«å¿œã˜ãŸè©³ç´°ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†

### âœ… 15åˆ†å¾Œã®çŠ¶æ…‹
- [ ] è»½å¾®ãªå¤‰æ›´ï¼ˆREADMEæ›´æ–°ã€ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ ç­‰ï¼‰ã§PRä½œæˆ
- [ ] CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ï¼ˆGitHub Actionsï¼‰ã®å®Ÿè¡Œç¢ºèª
- [ ] ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ—ãƒ­ã‚»ã‚¹ã¨ãƒãƒ¼ã‚¸ã¾ã§ã®æµã‚Œç†è§£

---

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆï¼ˆ5åˆ†ï¼‰

### å‰ææ¡ä»¶ãƒã‚§ãƒƒã‚¯

ã¾ãšã€ä»¥ä¸‹ã®ãƒ„ãƒ¼ãƒ«ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ï¼š

```bash
# å¿…é ˆãƒ„ãƒ¼ãƒ«ç¢ºèª
docker --version          # Docker Engine 20.10+
docker compose version    # Docker Compose v2.0+
git --version             # Git 2.30+

# ã‚ã‚‹ã¨ä¾¿åˆ©ï¼ˆå¾Œã§ã‚‚å¯ï¼‰
code --version            # VS Code
node --version            # Node.js 20+ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºæ™‚ï¼‰
python --version          # Python 3.12+ï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™ºæ™‚ï¼‰
```

âœ… **ã™ã¹ã¦ OK ã®å ´åˆ** â†’ ã€Œæ‰‹é †1: ãƒªãƒã‚¸ãƒˆãƒªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã€ã¸
âŒ **è¶³ã‚Šãªã„ã‚‚ã®ãŒã‚ã‚‹å ´åˆ** â†’ ã€Œå‰æãƒ„ãƒ¼ãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¸

### æ‰‹é †1: ãƒªãƒã‚¸ãƒˆãƒªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# 1. ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/yourname/llm-app-trial-with-ai-driven.git
cd llm-app-trial-with-ai-driven

# 2. ç’°å¢ƒå¤‰æ•°è¨­å®šï¼ˆã‚µãƒ³ãƒ—ãƒ«ã‚’ã‚³ãƒ”ãƒ¼ï¼‰
cp .env.sample .env

# 3. Dockerç’°å¢ƒèµ·å‹•
docker compose up --build
```

### æ‰‹é †2: å‹•ä½œç¢ºèª

ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:3000 ã«ã‚¢ã‚¯ã‚»ã‚¹ï¼š

1. **æ–°ã—ã„ãƒãƒ£ãƒƒãƒˆ**ã‚’ã‚¯ãƒªãƒƒã‚¯
2. ã€Œç¤¾å†…ç ”ä¿®åˆ¶åº¦ã«ã¤ã„ã¦æ•™ãˆã¦ãã ã•ã„ã€ã¨å…¥åŠ›
3. **é€ä¿¡**ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯
4. æ•°ç§’ã§AIå¿œç­”ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

âœ… **æˆåŠŸã—ãŸå ´åˆ** â†’ ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼åŸºæœ¬ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†ã§ã™
âŒ **ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸå ´åˆ** â†’ ã€Œãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‚ç…§

---

## ğŸ“ å­¦ç¿’ãƒ‘ã‚¹é¸æŠ

ã‚ãªãŸã®çµŒé¨“ã¨é–¢å¿ƒã«å¿œã˜ã¦ã€æœ€é©ãªå­¦ç¿’ãƒ‘ã‚¹ã‚’é¸æŠã—ã¦ãã ã•ã„ï¼š

### ğŸ¨ **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºè€…ãƒ‘ã‚¹** (Next.js + React)

```mermaid
graph LR
    A[ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆå®Œäº†] --> B[ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºç’°å¢ƒ]
    B --> C[UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç†è§£]
    C --> D[ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°æ©Ÿèƒ½]
    D --> E[åˆå›ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ãƒˆ]
```

**æ¨å®šæ™‚é–“**: 10-15åˆ†
**æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**: [ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºã‚¬ã‚¤ãƒ‰](#ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºãƒ‘ã‚¹)

### ğŸ”§ **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™ºè€…ãƒ‘ã‚¹** (FastAPI + Python)

```mermaid
graph LR
    A[ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆå®Œäº†] --> B[Pythoné–‹ç™ºç’°å¢ƒ]
    B --> C[APIä»•æ§˜ç†è§£]
    C --> D[RAG/Agentå®Ÿè£…]
    D --> E[åˆå›ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ãƒˆ]
```

**æ¨å®šæ™‚é–“**: 15-20åˆ†
**æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**: [ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™ºã‚¬ã‚¤ãƒ‰](#ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™ºãƒ‘ã‚¹)

### â˜ï¸ **ã‚¤ãƒ³ãƒ•ãƒ©/DevOps ãƒ‘ã‚¹** (Azure + Terraform)

```mermaid
graph LR
    A[ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆå®Œäº†] --> B[Azureç’°å¢ƒç†è§£]
    B --> C[IaCæ§‹æˆç¢ºèª]
    C --> D[CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³]
    D --> E[åˆå›ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ãƒˆ]
```

**æ¨å®šæ™‚é–“**: 20-25åˆ†
**æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**: [ã‚¤ãƒ³ãƒ•ãƒ©é–‹ç™ºã‚¬ã‚¤ãƒ‰](#ã‚¤ãƒ³ãƒ•ãƒ©é–‹ç™ºãƒ‘ã‚¹)

### ğŸ“š **ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼/QA ãƒ‘ã‚¹**

```mermaid
graph LR
    A[ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆå®Œäº†] --> B[æ©Ÿèƒ½è¦ä»¶ç†è§£]
    B --> C[ãƒ†ã‚¹ãƒˆæˆ¦ç•¥ç¢ºèª]
    C --> D[ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°]
    D --> E[åˆå›ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ãƒˆ]
```

**æ¨å®šæ™‚é–“**: 10-15åˆ†
**æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**: [ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆ/QA ã‚¬ã‚¤ãƒ‰](#ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒ»qa-ãƒ‘ã‚¹)

---

## ğŸ’» ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºãƒ‘ã‚¹

### é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# Node.js ç’°å¢ƒç¢ºèªï¼ˆæ¨å¥¨: v20+ï¼‰
node --version
npm --version

# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
cd frontend
npm install

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•ï¼ˆDockerä¸ä½¿ç”¨ã®å ´åˆï¼‰
npm run dev
```

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ç†è§£

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                 # Next.js 14 App Router
â”‚   â”‚   â”œâ”€â”€ layout.tsx       # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”‚   â”œâ”€â”€ page.tsx         # ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸
â”‚   â”‚   â””â”€â”€ chat/[id]/       # ãƒãƒ£ãƒƒãƒˆå‹•çš„ãƒ«ãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ChatWindow.tsx   # ãƒ¡ã‚¤ãƒ³ãƒãƒ£ãƒƒãƒˆç”»é¢
â”‚   â”‚   â”œâ”€â”€ MessageBubble.tsx # ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
â”‚   â”‚   â””â”€â”€ ui/              # shadcn/ui ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ useChatStream.ts # SSE ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°
â”‚   â”‚   â””â”€â”€ useSessionList.ts # ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
â”‚   â””â”€â”€ lib/
â”‚       â””â”€â”€ graphqlClient.ts # GraphQL ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â””â”€â”€ package.json
```

### ä¸»è¦æ¦‚å¿µã®ç†è§£

| æ¦‚å¿µ              | ãƒ•ã‚¡ã‚¤ãƒ«                      | èª¬æ˜                           |
| --------------- | ------------------------- | ---------------------------- |
| **SSE ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°** | `hooks/useChatStream.ts`  | AIå¿œç­”ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å—ä¿¡             |
| **GraphQL çµ±åˆ**  | `lib/graphqlClient.ts`    | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIã¨ã®é€šä¿¡               |
| **çŠ¶æ…‹ç®¡ç†**        | `components/ChatWindow.tsx` | React State + SWR ã‚­ãƒ£ãƒƒã‚·ãƒ¥     |
| **UI ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ** | `components/ui/`          | shadcn/ui + Tailwind CSS    |

### åˆå›ã‚¿ã‚¹ã‚¯ä¾‹

1. **UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¿®æ­£** (é›£æ˜“åº¦: â˜…â˜†â˜†)
   ```bash
   # ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒãƒ–ãƒ«ã®è‰²ã‚’å¤‰æ›´
   vi src/components/MessageBubble.tsx
   # Line 15: bg-blue-500 â†’ bg-green-500
   ```

2. **æ–°ã—ã„ãƒœã‚¿ãƒ³è¿½åŠ ** (é›£æ˜“åº¦: â˜…â˜…â˜†)
   ```typescript
   // ChatWindow.tsx ã«ã€Œå±¥æ­´ã‚¯ãƒªã‚¢ã€ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
   <Button onClick={clearHistory} variant="outline">
     å±¥æ­´ã‚’ã‚¯ãƒªã‚¢
   </Button>
   ```

### é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- **è©³ç´°è¨­è¨ˆ**: [architecture/component_frontend.md](architecture/component_frontend.md)
- **UI ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³**: [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå®Ÿè£…æ™‚ã«ä½œæˆäºˆå®š]
- **ãƒ†ã‚¹ãƒˆæ‰‹æ³•**: [architecture/test_strategy.md](architecture/test_strategy.md#ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å›ºæœ‰ã®ãƒ†ã‚¹ãƒˆã‚¢ãƒ—ãƒ­ãƒ¼ãƒ)

---

## ğŸ”§ ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™ºãƒ‘ã‚¹

### Python é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# Python ç’°å¢ƒç¢ºèª
python --version  # 3.12+ æ¨å¥¨

# ä»®æƒ³ç’°å¢ƒä½œæˆï¼ˆæ¨å¥¨ï¼‰
cd backend
python -m venv .venv
source .venv/bin/activate  # Linux/Mac
# .venv\Scripts\activate   # Windows

# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -r requirements.txt
pip install -r requirements-dev.txt  # é–‹ç™ºç”¨ãƒ„ãƒ¼ãƒ«

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•ï¼ˆDockerä¸ä½¿ç”¨ã®å ´åˆï¼‰
uvicorn main:app --reload --port 8000
```

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ç†è§£

```
backend/
â”œâ”€â”€ main.py                # FastAPI ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ graphql_schema.py  # GraphQL ã‚¹ã‚­ãƒ¼ãƒå®šç¾©
â”‚   â”œâ”€â”€ middleware.py      # CORS, Auth, Rate Limit
â”‚   â””â”€â”€ deps.py            # ä¾å­˜æ³¨å…¥
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ rag.py             # RAG ã‚µãƒ¼ãƒ“ã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â””â”€â”€ deep_agent.py      # Deep Research ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
â”œâ”€â”€ infra/
â”‚   â”œâ”€â”€ search_client.py   # Azure AI Search é€£æº
â”‚   â”œâ”€â”€ openai_client.py   # Azure OpenAI é€£æº
â”‚   â””â”€â”€ db.py              # Cosmos DB æ¥ç¶š
â”œâ”€â”€ config.py              # è¨­å®šç®¡ç†
â””â”€â”€ requirements.txt       # ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
```

### ä¸»è¦æ¦‚å¿µã®ç†è§£

| æ¦‚å¿µ              | ãƒ•ã‚¡ã‚¤ãƒ«                       | èª¬æ˜                                |
| --------------- | -------------------------- | --------------------------------- |
| **RAG ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³**  | `services/rag.py`          | æ¤œç´¢â†’ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆâ†’ç”Ÿæˆâ†’å¼•ç”¨ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ          |
| **GraphQL API**  | `api/graphql_schema.py`    | Strawberry ã«ã‚ˆã‚‹å‹å®‰å…¨ API           |
| **éåŒæœŸå‡¦ç†**       | å…¨èˆ¬                         | async/await ã«ã‚ˆã‚‹é«˜æ€§èƒ½ I/O          |
| **ä¾å­˜æ³¨å…¥**        | `api/deps.py`              | ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³               |
| **æ§‹é€ åŒ–ãƒ­ã‚°**       | `structlog` ä½¿ç”¨             | JSON å½¢å¼ã§ã®å¯è¦³æ¸¬æ€§ç¢ºä¿               |

### åˆå›ã‚¿ã‚¹ã‚¯ä¾‹

1. **ãƒ­ã‚°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¿½åŠ ** (é›£æ˜“åº¦: â˜…â˜†â˜†)
   ```python
   # services/rag.py ã«è©³ç´°ãƒ­ã‚°ã‚’è¿½åŠ 
   logger.info("rag_search_started", query=question, top_k=3)
   ```

2. **æ–°ã—ã„GraphQLãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ ** (é›£æ˜“åº¦: â˜…â˜…â˜†)
   ```python
   # api/graphql_schema.py
   @strawberry.field
   def search_results_count(self) -> int:
       return len(self.citations)
   ```

3. **ã‚«ã‚¹ã‚¿ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…** (é›£æ˜“åº¦: â˜…â˜…â˜…)
   ```python
   # è³ªå•é•·ãƒã‚§ãƒƒã‚¯ã€ä¸é©åˆ‡å†…å®¹ãƒ•ã‚£ãƒ«ã‚¿ç­‰
   def validate_question(question: str) -> str:
       if len(question) > 1000:
           raise ValueError("è³ªå•ã¯1000æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¦ãã ã•ã„")
       return question
   ```

### é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- **API è¨­è¨ˆ**: [architecture/component_api.md](architecture/component_api.md)
- **RAG è©³ç´°**: [architecture/component_rag.md](architecture/component_rag.md)
- **ãƒ†ã‚¹ãƒˆæˆ¦ç•¥**: [architecture/test_strategy.md](architecture/test_strategy.md#backend-python-ãƒ†ã‚¹ãƒˆ)

---

## â˜ï¸ ã‚¤ãƒ³ãƒ•ãƒ©é–‹ç™ºãƒ‘ã‚¹

### å¿…è¦ãƒ„ãƒ¼ãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# Azure CLI
curl -sL https://aka.ms/InstallAzureCLIDeb | sudo bash
az login

# Terraform
wget https://releases.hashicorp.com/terraform/1.6.0/terraform_1.6.0_linux_amd64.zip
unzip terraform_1.6.0_linux_amd64.zip
sudo mv terraform /usr/local/bin/

# ç¢ºèª
az account show
terraform --version
```

### ã‚¤ãƒ³ãƒ•ãƒ©æ§‹é€ ç†è§£

```
infra/
â”œâ”€â”€ terraform/
â”‚   â”œâ”€â”€ main.tf            # ãƒ—ãƒ­ãƒã‚¤ãƒ€è¨­å®š
â”‚   â”œâ”€â”€ container_app.tf   # Container Apps
â”‚   â”œâ”€â”€ cosmos_pg.tf       # Cosmos DB for PostgreSQL
â”‚   â””â”€â”€ variables.tf       # ç’°å¢ƒåˆ¥å¤‰æ•°
â””â”€â”€ bicep/
    â”œâ”€â”€ ai_search.bicep    # Azure AI Search
    â”œâ”€â”€ openai.bicep       # Azure OpenAI
    â””â”€â”€ swa.bicep          # Static Web Apps
```

### ä¸»è¦æ¦‚å¿µã®ç†è§£

| æ¦‚å¿µ              | ãƒ•ã‚¡ã‚¤ãƒ«                  | èª¬æ˜                           |
| --------------- | --------------------- | ---------------------------- |
| **ç„¡æ–™æ åˆ¶é™**       | `variables.tf`        | `is_free_tier` ã«ã‚ˆã‚‹ SKU åˆ¶å¾¡  |
| **ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ IaC**   | Terraform + Bicep     | é•·æœŸãƒªã‚½ãƒ¼ã‚¹ã¨è©¦è¡ŒéŒ¯èª¤ãƒªã‚½ãƒ¼ã‚¹ã®ä½¿ã„åˆ†ã‘    |
| **ã‚³ã‚¹ãƒˆåˆ¶å¾¡**       | CI/CD validation      | æœ‰æ–™ SKU æ··å…¥é˜²æ­¢               |
| **ç’°å¢ƒåˆ†é›¢**        | å‘½åè¦å‰‡ + ã‚¿ã‚°             | dev/staging/prod ç’°å¢ƒç®¡ç†      |

### åˆå›ã‚¿ã‚¹ã‚¯ä¾‹

1. **ã‚¿ã‚°è¿½åŠ ** (é›£æ˜“åº¦: â˜…â˜†â˜†)
   ```hcl
   # terraform/main.tf ã«ã‚³ã‚¹ãƒˆç®¡ç†ã‚¿ã‚°ã‚’è¿½åŠ 
   tags = {
     Environment = var.environment
     CostCenter  = "qrai"
     Owner       = "dev-team"
   }
   ```

2. **æ–°ã—ã„ãƒªã‚½ãƒ¼ã‚¹è¿½åŠ ** (é›£æ˜“åº¦: â˜…â˜…â˜†)
   ```hcl
   # Storage Account for backup
   resource "azurerm_storage_account" "backup" {
     name                     = "stqraibackup${var.environment}"
     resource_group_name      = azurerm_resource_group.main.name
     location                = azurerm_resource_group.main.location
     account_tier            = "Standard"
     account_replication_type = "LRS"
   }
   ```

### é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- **ãƒ‡ãƒ—ãƒ­ã‚¤æˆ¦ç•¥**: [architecture/deployment.md](architecture/deployment.md)
- **ã‚³ã‚¹ãƒˆç®¡ç†**: [architecture/cost_management.md](architecture/cost_management.md)
- **Azure ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—**: [azur_setup.md](azur_setup.md)

---

## ğŸ“š ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒ»QA ãƒ‘ã‚¹

### ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆç†è§£

QRAI ã®æ ¸å¿ƒä¾¡å€¤ã‚’ç†è§£ã—ã¾ã—ã‚‡ã†ï¼š

```mermaid
graph TD
    A[ç¤¾å†…ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ] --> B[AI Search ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹]
    B --> C[RAGæ¤œç´¢]
    C --> D[GPT-4o-mini ç”Ÿæˆ]
    D --> E[å¼•ç”¨ä»˜ãå›ç­”]

    F[æ·±ã„èª¿æŸ»è¦æ±‚] --> G[Deep Research]
    G --> H[å¤šæ®µéšæ¤œç´¢ãƒ»åˆ†æ]
    H --> I[æ§‹é€ åŒ–ãƒ¬ãƒãƒ¼ãƒˆ]

    style E fill:#90EE90
    style I fill:#FFB6C1
```

### æ©Ÿèƒ½è¦ä»¶ç¢ºèª

| æ©Ÿèƒ½                  | ç¾åœ¨ã®çŠ¶æ…‹     | ãƒ†ã‚¹ãƒˆæ–¹æ³•                        |
| ------------------- | --------- | ---------------------------- |
| **åŸºæœ¬RAGæ¤œç´¢**         | âœ… å®Ÿè£…æ¸ˆã¿  | ã€Œç ”ä¿®åˆ¶åº¦ã«ã¤ã„ã¦ã€ã§æ¤œç´¢â†’å¼•ç”¨ç¢ºèª        |
| **Deep Research**   | ğŸš§ é–‹ç™ºä¸­   | ã€Œç«¶åˆåˆ†æã€ã§å¤šæ®µéšãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç¢ºèª        |
| **ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†**         | âœ… å®Ÿè£…æ¸ˆã¿  | è¤‡æ•°ãƒãƒ£ãƒƒãƒˆã‚¿ãƒ–ã®ä½œæˆãƒ»åˆ‡ã‚Šæ›¿ãˆç¢ºèª        |
| **ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å¿œç­”**       | âœ… å®Ÿè£…æ¸ˆã¿  | å›ç­”ãŒæ®µéšçš„ã«è¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª         |
| **å¼•ç”¨ãƒªãƒ³ã‚¯**           | âœ… å®Ÿè£…æ¸ˆã¿  | [1] [2] ãƒªãƒ³ã‚¯ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèª  |

### QA ã‚¿ã‚¹ã‚¯ä¾‹

1. **æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ** (é›£æ˜“åº¦: â˜…â˜†â˜†)
   - åŸºæœ¬çš„ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼ã‚’æ‰‹å‹•ãƒ†ã‚¹ãƒˆ
   - ãƒã‚°ã‚„ä½¿ã„ã«ãã„ç‚¹ã‚’Issueã¨ã—ã¦å ±å‘Š

2. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ”¹å–„** (é›£æ˜“åº¦: â˜…â˜…â˜†)
   - README.md ã®ã‚ã‹ã‚Šã«ãã„éƒ¨åˆ†ã‚’ç‰¹å®šãƒ»ä¿®æ­£ææ¡ˆ
   - API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä¾‹ã‚’è¿½åŠ 

3. **ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä½œæˆ** (é›£æ˜“åº¦: â˜…â˜…â˜…)
   - E2E ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªã®è¨­è¨ˆ
   - Edge case ã®ç‰¹å®šã¨æ¤œè¨¼æ‰‹é †ä½œæˆ

### é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- **è¦ä»¶å®šç¾©**: [requirements.md](requirements.md)
- **API ä»•æ§˜**: [api_spec.md](api_spec.md)
- **ãƒ†ã‚¹ãƒˆæˆ¦ç•¥**: [architecture/test_strategy.md](architecture/test_strategy.md)

---

## ğŸ› ï¸ å‰æãƒ„ãƒ¼ãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### Windows (æ¨å¥¨: WSL2)

```powershell
# WSL2 + Ubuntu ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
wsl --install -d Ubuntu

# Ubuntu å†…ã§ä»¥ä¸‹ã‚’å®Ÿè¡Œ
sudo apt update && sudo apt upgrade -y
sudo apt install -y git curl wget

# Docker Desktop for Windows ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
# https://docs.docker.com/desktop/windows/install/
```

### macOS

```bash
# Homebrew ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# å¿…è¦ãƒ„ãƒ¼ãƒ«ä¸€æ‹¬ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
brew install git docker docker-compose node python
brew install --cask visual-studio-code
```

### Linux (Ubuntu/Debian)

```bash
# åŸºæœ¬ãƒ„ãƒ¼ãƒ«
sudo apt update
sudo apt install -y git curl wget build-essential

# Docker Engine
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh
sudo usermod -aG docker $USER
newgrp docker

# Node.js (Node Version Manager æ¨å¥¨)
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash
nvm install 20
nvm use 20

# Python (pyenv æ¨å¥¨)
curl https://pyenv.run | bash
pyenv install 3.12.0
pyenv global 3.12.0
```

---

## ğŸš¨ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ³•

| å•é¡Œ                          | åŸå›                       | è§£æ±ºæ³•                                          |
| --------------------------- | ----------------------- | -------------------------------------------- |
| `docker compose up` ãŒå¤±æ•—    | Docker daemon æœªèµ·å‹•        | `sudo systemctl start docker` (Linux)      |
| localhost:3000 æ¥ç¶šä¸å¯       | ãƒãƒ¼ãƒˆç«¶åˆ                   | `lsof -i :3000` ã§ç¢ºèªã€åˆ¥ãƒ—ãƒ­ã‚»ã‚¹çµ‚äº†               |
| Azure API ã‚­ãƒ¼ä¸æ­£            | `.env` è¨­å®šãƒŸã‚¹             | `.env.sample` ã¨æ¯”è¼ƒã€æ­£ã—ã„ã‚­ãƒ¼å½¢å¼ç¢ºèª               |
| Python ä¾å­˜é–¢ä¿‚ã‚¨ãƒ©ãƒ¼            | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä¸ä¸€è‡´                | `pip install -r requirements.txt --upgrade` |
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ npm ã‚¨ãƒ©ãƒ¼           | Node.js ãƒãƒ¼ã‚¸ãƒ§ãƒ³å¤ã„         | Node.js 20+ ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰                       |

### è©³ç´°ãªè¨ºæ–­æ‰‹é †

```bash
# 1. Docker çŠ¶æ…‹ç¢ºèª
docker --version
docker compose version
docker ps

# 2. ãƒãƒ¼ãƒˆä½¿ç”¨çŠ¶æ³ç¢ºèª
netstat -tulpn | grep :3000
netstat -tulpn | grep :8000

# 3. ãƒ­ã‚°ç¢ºèª
docker compose logs backend
docker compose logs frontend

# 4. ç’°å¢ƒå¤‰æ•°ç¢ºèª
cat .env | grep -v "^#"
```

### ã‚µãƒãƒ¼ãƒˆä½“åˆ¶

| å•é¡Œã®ç¨®é¡        | å¯¾å¿œçª“å£                    | ç›®æ¨™å¿œç­”æ™‚é–“ |
| ------------ | ----------------------- | ------ |
| **ç’°å¢ƒæ§‹ç¯‰å•é¡Œ**   | GitHub Discussions      | 4æ™‚é–“    |
| **æ©Ÿèƒ½ãƒã‚°**     | GitHub Issues           | 24æ™‚é–“   |
| **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**   | security@company.com    | 1æ™‚é–“    |
| **ç·Šæ€¥äº‹æ…‹**     | Slack #qrai-dev ãƒãƒ£ãƒ³ãƒãƒ«   | 30åˆ†    |

---

## ğŸ“– æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ç†è§£

1. **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å­¦ç¿’**: [architecture/README.md](architecture/README.md)
2. **è¦ä»¶ä»•æ§˜ç¢ºèª**: [requirements.md](requirements.md)
3. **é–‹ç™ºãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—**: [roadmap.md](roadmap.md)

### é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹ç†è§£

1. **ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ãƒˆæŒ‡é‡**: [contributing.md](contributing.md)
2. **ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼åŸºæº–**: [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå®Ÿè£…æ™‚ã«ä½œæˆäºˆå®š]
3. **ãƒªãƒªãƒ¼ã‚¹ãƒ—ãƒ­ã‚»ã‚¹**: [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå®Ÿè£…æ™‚ã«ä½œæˆäºˆå®š]

### é«˜åº¦ãªæ©Ÿèƒ½é–‹ç™º

1. **Deep Research å®Ÿè£…**: [architecture/component_deep_research.md](architecture/component_deep_research.md)
2. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–**: [architecture/performance_monitoring.md](architecture/performance_monitoring.md)
3. **é‹ç”¨ãƒ»ç›£è¦–**: [operational_runbook.md](operational_runbook.md)

---

## ğŸ“‹ ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°å®Œäº†ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

é–‹ç™ºè€…ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãŒå®Œäº†ã—ãŸã‚‰ã€ä»¥ä¸‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼š

### ğŸ¯ åŸºæœ¬ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— (å¿…é ˆ)
- [ ] ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³ã¨Dockerç’°å¢ƒèµ·å‹•æˆåŠŸ
- [ ] ã‚µãƒ³ãƒ—ãƒ«è³ªå•ã§RAGæ©Ÿèƒ½å‹•ä½œç¢ºèª
- [ ] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã¨ä¸»è¦æ¦‚å¿µç†è§£
- [ ] åˆå›PRä½œæˆï¼ˆè»½å¾®ãªå¤‰æ›´ã§OKï¼‰

### ğŸš€ æŠ€è¡“é ˜åŸŸåˆ¥ (é¸æŠ)
- [ ] ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¿®æ­£PRãƒãƒ¼ã‚¸
- [ ] ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰: APIæ©Ÿèƒ½è¿½åŠ PRãƒãƒ¼ã‚¸
- [ ] ã‚¤ãƒ³ãƒ•ãƒ©: IaCè¨­å®šå¤‰æ›´PRãƒãƒ¼ã‚¸
- [ ] QA: ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä½œæˆãƒ»ãƒã‚°ãƒ¬ãƒãƒ¼ãƒˆæå‡º

### ğŸ“š ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç†è§£ (æ¨å¥¨)
- [ ] è¦ä»¶ä»•æ§˜æ›¸(requirements.md)ä¸€èª­å®Œäº†
- [ ] ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ¦‚è¦æŠŠæ¡
- [ ] é–‹ç™ºãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ç†è§£ã¨ã‚¿ã‚¹ã‚¯é¸æŠ

### ğŸ¤ ãƒãƒ¼ãƒ çµ±åˆ
- [ ] Slack #qrai-dev ãƒãƒ£ãƒ³ãƒãƒ«å‚åŠ 
- [ ] åˆå›ãƒãƒ¼ãƒ ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°å‚åŠ 
- [ ] ãƒ¡ãƒ³ã‚¿ãƒ¼/ãƒãƒ‡ã‚£é–‹ç™ºè€…ã¨ã®1on1å®Ÿæ–½

---

## ğŸ“ ã‚µãƒãƒ¼ãƒˆãƒ»ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯

ã“ã®ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰ã‚’æ”¹å–„ã™ã‚‹ãŸã‚ã€ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’ãŠå¯„ã›ãã ã•ã„ï¼š

- **æ”¹å–„ææ¡ˆ**: GitHub Issues (`enhancement` ãƒ©ãƒ™ãƒ«)
- **æ‰‹é †ä¸æ˜ç‚¹**: GitHub Discussions (`question` ãƒ©ãƒ™ãƒ«)
- **æ‰€è¦æ™‚é–“å ±å‘Š**: å®Ÿéš›ã«ã‹ã‹ã£ãŸæ™‚é–“ã‚’Slackã§å…±æœ‰
- **æˆåŠŸäº‹ä¾‹**: ã†ã¾ãã„ã£ãŸã‚³ãƒ„ã‚„Tipsã‚’å…±æœ‰

**ç›®æ¨™é”æˆçŠ¶æ³**:
- âœ… 5åˆ†ä»¥å†…ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆé”æˆç‡: ç›®æ¨™90%ä»¥ä¸Š
- âœ… 15åˆ†ä»¥å†…åˆå›PRä½œæˆé”æˆç‡: ç›®æ¨™80%ä»¥ä¸Š
- âœ… 1é€±é–“ä»¥å†…å®Ÿè³ªçš„ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ãƒˆ: ç›®æ¨™100%

---

*Last updated: 2025-06-03*
